<div class="container">
	<div ng-show="isAdmin" class="row">
		<div class="col s12 m4 l2"><p></p></div>
		<div class="container">
			<h3 class="thin center-align"> Edition </h3>
			<md-content class="md-padding">
				<form ng-submit="editPost(actualPost)" id="formEdicion" class="col s12">
					<div class="row">
						<div class="row valign-wrapper">
							<div class="input-field col s10 valign">
								<input type="text" id="title" class="validate" placeholder="Title" ng-model="actualPost.title"></input>
								<label class="active" id="precargarCamposError" for="title">Title | {{precargarCamposError}}</label>
							</div>
							<div class="col s2 valign">
								<a class="btn-floating blue"> <i class="material-icons" ng-click="precargarCampos(actualPost.title)">cloud_download</i> </a>
							</div>
						</div>
						<div class="input-field col s6">
							<input type="text" id="year" class="validate" placeholder="Year" ng-model="actualPost.year"></input>
							<label class="active" for="year">Year</label>
						</div>
						<div class="input-field col s6">
							<input type="text" id="runtime" class="validate" placeholder="Runtime" ng-model="actualPost.runtime"></input>
							<label class="active" for="runtime">Runtime</label>
						</div>
						<div class="input-field col s6">
							<input type="text" id="genre" class="validate" placeholder="Genre" ng-model="actualPost.genre"></input>
							<label class="active" for="genre">Genre</label>
						</div>
						<div class="input-field col s6">
							<input type="text" id="director" class="validate" placeholder="Director" ng-model="actualPost.director"></input>
							<label class="active" for="director">Director</label>
						</div>
						<div class="input-field col s6">
							<input type="text" id="actors" class="validate" placeholder="Actors" ng-model="actualPost.actors"></input>
							<label class="active" for="actors">Actors</label>
						</div>
						<div class="input-field col s12">
							<input type="text" id="plot" class="validate" placeholder="Plot" ng-model="actualPost.plot"></input>
							<label class="active" for="plot">Plot</label>
						</div>
						<div class="input-field col s12">
							<input type="text" id="poster" class="validate" placeholder="Poster is a valid http://.." ng-model="actualPost.poster"></input>
							<label class="active" for="poster">Poster</label>
						</div>
					</div>
				</form>
			</md-content>

				<div>

					Related Movies:
					<ul>
						<li ng-repeat="related in actualPost.relatedMovies | orderBy: 'title'">
							<a href="#/posts/{{related._id}}">
								{{related.title}}
							</a>
							<a class="btn-floating red"> <i class="material-icons" ng-click="eliminarPeliculaRelacionada(related)">delete</i> </a>							
						</li>
					</ul>

					<md-content class="md-padding">
						<form ng-submit="$event.preventDefault()">
						   <md-autocomplete
							  md-selected-item="selectedItem"
							  md-search-text-change="searchTextChange(searchText)"
							  md-search-text="searchText"
							  md-selected-item-change="selectedItemChange(item)"
							  md-items="item in querySearch(searchText)"
							  md-item-text="item.title"
							  md-min-length="0"
							  placeholder="Related movie">
							  <md-item-template>
								 <span md-highlight-text="searchText" md-highlight-flags="^i">{{item.title}}</span>
							  </md-item-template>
							  <md-not-found>
								 No movies matching "{{searchText}}" were found. Try to save it first in main page.
							  </md-not-found>
						   </md-autocomplete>
						   <br/>
						</form>
					</md-content>
				</div>

				<div class="input-field col s12 right-align">
					<button type="submit" form="formEdicion" class="btn btn-warning blue">Edit</button>
					<button ng-click="eliminarPelicula(actualPost)" class="btn btn-danger  red darken-2">Delete</button>					
				</div>



		</div>
	</div>

</div>
